#N canvas 148 196 868 716 12;
#X obj 120 380 +;
#X obj 120 320 +;
#X text 480 40 MIDI Velocity;
#X obj 120 440 makenote;
#X obj 400 80 * 12;
#X text 400 40 Octave;
#X obj 220 80 unpack f f;
#X obj 20 60 inlet;
#X text 20 40 Chroma (relative to A);
#X obj 220 60 inlet;
#X text 220 0 Tonality (semitone relative to A \, Major/Minor), f
21;
#X obj 400 60 inlet;
#X obj 600 60 inlet;
#X obj 480 60 inlet;
#X obj 120 480 pack f f;
#X obj 120 520 outlet;
#X text 120 540 MIDI Note (tone \, telocity);
#X text 200 440 Not sure if this makenote thing is asynchronous. Otherwise
there'll be trouble inside foreach loops.;
#X text 120 560 Note On and Note Off sent according to the duration.
;
#X obj 780 60 inlet;
#X text 780 40 Section params;
#X text 600 40 Duration (in sections);
#X obj 740 100 unpack f f f;
#X obj 600 160 expr 60000 * $f1 / $f2;
#X floatatom 460 340 5 0 0 0 - - -, f 5;
#X floatatom 560 340 5 0 0 0 - - -, f 5;
#X floatatom 760 200 5 0 0 0 - - -, f 5;
#X floatatom 620 240 5 0 0 0 - - -, f 5;
#X connect 0 0 3 0;
#X connect 1 0 0 0;
#X connect 3 0 14 0;
#X connect 3 1 14 1;
#X connect 4 0 0 1;
#X connect 6 0 1 1;
#X connect 7 0 1 0;
#X connect 9 0 6 0;
#X connect 11 0 4 0;
#X connect 12 0 23 0;
#X connect 12 0 27 0;
#X connect 13 0 3 1;
#X connect 13 0 24 0;
#X connect 14 0 15 0;
#X connect 19 0 22 0;
#X connect 22 2 23 1;
#X connect 22 2 26 0;
#X connect 23 0 3 2;
#X connect 23 0 25 0;
